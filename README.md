# â€¼ï¸ê³¼ì œ í•µì‹¬ ìš”êµ¬ì‚¬í•­ ë° ë°°í¬ë§í¬
- https://mellifluous-strudel-82634a.netlify.app/
  - í´ë¦­ì‹œ ë°°í¬ëœ ë§í¬ë¡œ ì´ë™ë©ë‹ˆë‹¤.

- ê²€ìƒ‰ì°½ êµ¬í˜„ (í•´ë‹¹ ì‚¬ì´íŠ¸ì˜ ê²€ìƒ‰ì°½ì„ í´ë¡ )
    
    [í•œêµ­ì„ìƒì •ë³´](https://clinicaltrialskorea.com/) <- í´ë¦­ì‹œ ì›ë³¸ í˜ì´ì§€ë¡œ ì´ë™ë©ë‹ˆë‹¤.
    
- ê²€ìƒ‰ì–´ ì¶”ì²œ ê¸°ëŠ¥ êµ¬í˜„
- ìºì‹± ê¸°ëŠ¥ êµ¬í˜„ (ìºì‹± ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ë¼ì´ë¸ŒëŸ¬ë¦¬ ì‚¬ìš© ê¸ˆì§€, ë§Œë£Œê¸°í•œì„ êµ¬í˜„í•  ê²½ìš° ê°€ì‚°ì )
- ì…ë ¥ë§ˆë‹¤ API í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ API í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì¤„ì´ëŠ” ì „ëµ ìˆ˜ë¦½ ë° ì‹¤í–‰
- í‚¤ë³´ë“œë¡œ ì¡°ì‘ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„

# **ğŸ› Â ì˜ì¡´ì„±ê³¼ ìŠ¤íƒ**
<img src='https://img.shields.io/badge/node.js-6DA55F?style=for-the-badge&logo=node.js&logoColor=white' /> <img src="https://img.shields.io/badge/NPM-%23CB3837.svg?style=for-the-badge&logo=npm&logoColor=white"> <img src="https://img.shields.io/badge/Eslint-4B32C3?style=for-the-badge&logo=Eslint&logoColor=white" /> <img src="https://img.shields.io/badge/Prettier-F7B93E?style=for-the-badge&logo=Prettier&logoColor=white" /> <img src="https://img.shields.io/badge/Husky-00C65E?style=for-the-badge&logo=Husky&logoColor=white" />

<img src="https://img.shields.io/badge/React-61DAFB?style=for-the-badge&logo=React&logoColor=black" /> <img src="https://img.shields.io/badge/TypeScript-3178C6?style=for-the-badge&logo=TypeScript&logoColor=white"/> <img src="https://img.shields.io/badge/redux-%23593d88.svg?style=for-the-badge&logo=redux&logoColor=white" /> <img src="https://img.shields.io/badge/React_Router-CA4245?style=for-the-badge&logo=react-router&logoColor=white">

<img src="https://img.shields.io/badge/MUI-%230081CB.svg?style=for-the-badge&logo=mui&logoColor=white" /> <img src="https://img.shields.io/badge/Emotion-DB7093?style=for-the-badge&logologoColor=white" />
<img src="https://img.shields.io/badge/Axios-5A29E4?style=for-the-badge&logo=Axios&logoColor=white" />

# âš™ï¸ ì„¤ì¹˜ ë° ì‹¤í–‰

### ê¹ƒ ë ˆíŒŒì§€í† ë¦¬ í´ë¡ 

    git clone https://github.com/brince0304/pre-onboarding-11th-4

### ì„¤ì¹˜ ê²½ë¡œë¡œ ì´ë™

    cd pre-onboarding-11th-4

### ì„¤ì¹˜

    npm install
    
### ì‹¤í–‰
ì„œë²„ëŠ” concurrently ë¡œ í´ë¼ì´ì–¸íŠ¸ì™€ ë™ì‹œì— ì‹¤í–‰ë©ë‹ˆë‹¤. 

    npm start
    

# â‰ï¸ìš”êµ¬ì‚¬í•­ë³„ êµ¬í˜„ë‚´ìš©

## ğŸ¤”Â ê²€ìƒ‰ì°½ êµ¬í˜„

- ê²€ìƒ‰ì°½ êµ¬í˜„ì€ ìµœëŒ€í•œ ì›ë³¸ ì‚¬ì´íŠ¸ì˜ ê²€ìƒ‰ì°½ê³¼ ë¹„ìŠ·í•˜ë„ë¡ í´ë¡ í•˜ì˜€ìŠµë‹ˆë‹¤.
- form ì— í¬ì»¤ìŠ¤í•˜ë©´ ì¶”ì²œê²€ìƒ‰ì–´ ì°½ì´ ë“±ì¥í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ê³ , í•´ë‹¹ ë¶€ë¶„ì€ useChildBox ì»¤ìŠ¤í…€ í›…ì„ êµ¬í˜„í•˜ì—¬ document.addEventListener ë¡œ ë§ˆìš´íŠ¸ì‹œì— ì™¸ë¶€ ì˜ì—­ì„ í´ë¦­í• ë•Œ ìƒíƒœê°’ì„ ë³€ê²½í•˜ë„ë¡ í•˜ì—¬ ì»¨íŠ¸ë¡¤í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
// useChildBox.tsx
const useChildBox = (ref: RefObject<HTMLElement>) => {
  const [isFocus, setIsFocus] = useState<boolean>(false);
  const handleClickOutside = (e: MouseEvent) => {
    if (ref.current && !ref.current.contains(e.target as Node)) {
      setIsFocus(false);
    }
  };

  useEffect(() => {
    document.addEventListener('mousedown', handleClickOutside);
    return () => {
      document.removeEventListener('mousedown', handleClickOutside);
    };
  }, []);

  return { isFocus, setIsFocus };
};
```

Â ![image](https://github.com/brince0304/pre-onboarding-11th-4/assets/110673427/556928a9-0715-4b97-818c-c9c0a9fde249)


- **ìµœê·¼ ê²€ìƒ‰ì–´ ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì—¬ ë¡œì»¬ìŠ¤í† ë¦¬ì§€ì—ì„œ ê²€ìƒ‰ì–´ë¥¼ ì €ì¥í•˜ê³  ì¡°íšŒ,ì‚­ì œ í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.**
    - í•´ë‹¹ ê¸°ëŠ¥ì€ ì»¨í…ìŠ¤íŠ¸ api ë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬í˜„í•˜ì˜€ê³ , ì§ˆë³‘ ë¦¬ìŠ¤íŠ¸ ì„œë¹„ìŠ¤ í´ë˜ìŠ¤ì™€ ë‹¤ë¥´ê²Œ ë‹¨ìˆœíˆ ë ˆí¬ì§€í† ë¦¬ë§Œ êµ¬í˜„í•˜ê³  ê³„ì† ë°”ë€” ìˆ˜ ìˆëŠ” ìƒíƒœê°’ì„ ê°€ì§ˆ ìˆ˜ ìˆê¸° ë•Œë¬¸ì— ì»¤ìŠ¤í…€ í›…ìœ¼ë¡œ ìƒíƒœê°’ë§Œ ê°€ì ¸ì˜¤ê±°ë‚˜ í•¸ë“¤ë§ í•  ìˆ˜ ìˆë„ë¡ êµ¬í˜„í•˜ì—¬ ì½”ë“œ ì¤‘ë³µì„ ì¤„ì˜€ìŠµë‹ˆë‹¤.

## ğŸ¤”Â ê²€ìƒ‰ì–´ ì¶”ì²œ ê¸°ëŠ¥ êµ¬í˜„ / ìºì‹±

- ê°€ì¥ ìµœìƒë‹¨ì—ì„œ ë‚´ë ¤ì£¼ëŠ” ì„œë¹„ìŠ¤ **í´ë˜ìŠ¤ì˜ ë©”ì„œë“œ ì•ˆì—ì„œ** ìºì‹± ê¸°ëŠ¥ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    - **í´ë˜ìŠ¤ì•ˆì— cachedData ë©¤ë²„ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤í™” ì‹œì— ë°°ì—´ì„ ì´ˆê¸°í™”í•˜ë„ë¡ í•˜ì˜€ê³ , ë©”ì„œë“œê°€ í˜¸ì¶œë ì‹œ ë°°ì—´ì—ì„œ ì¡´ì¬í•˜ëŠ” ë°ì´í„°ë¥¼ í™•ì¸ í›„ ì—†ë‹¤ë©´ apië¥¼ í˜¸ì¶œí•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.**
        - ë¦¬ìŠ¤íŠ¸ëŠ” redux ìƒíƒœê°’ìœ¼ë¡œ ê´€ë¦¬í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ê³ , redux thunk ë¥¼ í†µí•˜ì—¬ pending, fulfilled, rejected ìƒí™© í•¸ë“¤ë§ì„ ë¦¬ë•ìŠ¤ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ ë‹´ëŠ” ì»¤ìŠ¤í…€ í›…ê³¼ ë¶„ë¦¬í•˜ì—¬ reducer ì—ì„œ ê´€ë¦¬í•˜ì˜€ìŠµë‹ˆë‹¤.
    - **ë§Œë£Œê¸°ê°„ì€ 5ë¶„ìœ¼ë¡œ ì„¤ì •í•˜ì—¬ ë§¤ë²ˆ ë©”ì„œë“œ í˜¸ì¶œì‹œì— ìƒˆë¡œ ìºì‹œë°ì´í„°ë¥¼ ê°±ì‹ í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.**
        - ê¸°ì¡´ì—ëŠ” redux ë¥¼ í†µí•˜ì—¬ redux ìƒíƒœê°’ì— ìºì‹œ ë°ì´í„°ë¥¼ ì €ì¥í•˜ì—¬ ì—¬ëŸ¬ê°œì˜ í•¨ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ (ìºì‹œë°ì´í„°ê°€ ì¡´ì¬í•˜ëŠ”ì§€ í™•ì¸í•˜ëŠ” í•¨ìˆ˜, fetchí•¨ìˆ˜, dispatchë¥¼ ì‹¤í–‰í•˜ëŠ” í•¸ë“¤ëŸ¬ í•¨ìˆ˜) êµ¬í˜„í•˜ì˜€ì§€ë§Œ ì½”ë“œì˜ ê°€ë…ì„±ì„ ë³´ì™„í•˜ê¸° ìœ„í•´ êµ¬ì¡°ë¥¼ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.
        - í™”ìš”ì¼ ì„¸ì…˜ì—ì„œ í´ë¡œì €ë¥¼ í•™ìŠµí•œ í›„ì— ìºì‹±ì„ í´ë¡œì €ë¡œ êµ¬í˜„ í•  ìˆ˜ ìˆì„ê¹Œ í–ˆì§€ë§Œ ì´ë¯¸ ë¹„ì¦ˆë‹ˆìŠ¤ ë¡œì§ì„ í´ë˜ìŠ¤ ë©”ì„œë“œë¡œ ê´€ë¦¬í•˜ê³  ìˆì—ˆê³ , context api ë¥¼ í†µí•˜ì—¬ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ê³µìœ í•˜ê³ ìˆì—ˆê¸° ë•Œë¬¸ì— ë¶ˆí•„ìš”í•œ ì‹¤í—˜ì ì¸ í–‰ë™ì€ ì§€ì–‘í•˜ê³  private ë©¤ë²„ë³€ìˆ˜ë¥¼ ì„ ì–¸í•˜ì—¬ ìº¡ìŠí™” & ìºì‹±ì„ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
    - í´ë˜ìŠ¤ ë‚´ì—ì„œë§Œ ì‚¬ìš©ë˜ëŠ” ë©”ì„œë“œë¥¼ ì œì™¸í•˜ê³  fetch ë©”ì†Œë“œë¥¼ context apië¥¼ í†µí•˜ì—¬ ì „ì—­ì—ì„œ ì‚¬ìš©í•  ìˆ˜ ìˆë„ë¡ í•´ì£¼ì—ˆìŠµë‹ˆë‹¤.

```tsx
// sickService.tsx
export class SickService implements SickServiceInterface {
  private axiosClient: AxiosInstance;
  private cachedData = [] as ISickCache[];

  constructor(axiosClient: AxiosInstance) {
    this.axiosClient = axiosClient;
  }

  getCachedData = (query: string) => {
    return this.cachedData.find((item) => item.query === query);
  };

  clearCachedData = (query: string) => {
    this.cachedData = this.cachedData.filter((item) => item.expireTime > Date.now());
  };

  addToCachedData = (query: string, sickList: iSickChild[]) => {
    this.cachedData.push({
      query: query,
      sickList: sickList,
      expireTime: getDefaultExpireTime(),
    });
  };

  getSickListByQuery = async (query: string) => {
    this.clearCachedData(query);
    const data = this.getCachedData(query);
    if (data) {
      return data.sickList;
    }
    try {
      console.info('calling api');
      const { data } = await this.axiosClient.get(getSickURL(query));
      const spliced = data.splice(0, 7);
      this.addToCachedData(query, spliced);
      return spliced as ISickList;
    } catch (error) {
      throw new Error(error as string);
    }
  };
}
```

## ğŸ¤”Â ì…ë ¥ë§ˆë‹¤ API í˜¸ì¶œí•˜ì§€ ì•Šë„ë¡ API í˜¸ì¶œ íšŸìˆ˜ë¥¼ ì¤„ì´ëŠ” ì „ëµ ìˆ˜ë¦½ ë° ì‹¤í–‰

- useDebounce í›…ì„ êµ¬í˜„í•˜ì—¬, ì½œë°±í•¨ìˆ˜ì™€ ë”œë ˆì´íƒ€ì„ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ë°›ì•„ ì‹¤í–‰í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.
- useEffect í›…ì„ ì‚¬ìš©í•˜ì—¬ ì…ë ¥ê°’ì´ ë°”ë€”ë•Œë§ˆë‹¤ debounce ëœ ì½œë°±í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë„ë¡ êµ¬í˜„í•˜ì˜€ìŠµë‹ˆë‹¤.

```tsx
// useDebounce.tsx
function useDebounce<T extends any[]>(callback: (...params: T) => void, time: number) {
  const timer = useRef<ReturnType<typeof setTimeout> | null>(null);
  return (...params: T) => {
    if (timer.current) clearTimeout(timer.current);

    timer.current = setTimeout(() => {
      callback(...params);
      timer.current = null;
    }, time);
  };
}
```

```tsx
// SearchForm.tsx
const debouncedHandleFetchList = useDebounce(async () => {
    await handleFetchSickList(value);
  }, 300);

  useEffect(() => {
    if (value === '') handleClearList();
    debouncedHandleFetchList();
    // eslint-disable-next-line react-hooks/exhaustive-deps
  }, [value]);
```

## ğŸ¤”í‚¤ë³´ë“œë¡œ ì¡°ì‘ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„

- handleSelectKeydown í›…ì„ êµ¬í˜„í•˜ì—¬ **ìƒíƒœê°’ìœ¼ë¡œ ì¸ë±ìŠ¤ë¥¼ ê°–ê³ ìˆë„ë¡** í•˜ì˜€ê³ , ì„ íƒì´ ê°€ëŠ¥í•˜ë„ë¡ êµ¬í˜„í•  **div RefObject ë¥¼ ì „ë‹¬ë°›ì•„ ì½œë°±í•¨ìˆ˜ë¥¼ ì‹¤í–‰í•˜ë„ë¡** í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì½œë°±í•¨ìˆ˜ëŠ” ë°¸ë¥˜ê°’ì„ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ëŠ” í•¨ìˆ˜ë¡œ , **í•´ë‹¹ ë°¸ë¥˜ê°’ì€ boxRef.querySelector ë¥¼ í†µí•´ dataset attribute ì˜ ê°’ì„ ê²€ìƒ‰í•´ í•´ë‹¹ element ê°€ ì¡´ì¬í•œë‹¤ë©´ data-valueì˜ ê°’ì„ ê°€ì ¸ì™€ ë§¤ê°œë³€ìˆ˜ë¡œ ì „ë‹¬í•˜ë„ë¡** í•˜ì˜€ìŠµë‹ˆë‹¤.
- ì—”í„°ì‹œì—ëŠ” ê¸°ì¡´ ì„œë¸Œë°‹ ì½œë°±í•¨ìˆ˜ê°€ ì‹¤í–‰ë˜ë„ë¡ êµ¬í˜„í–ˆê³ , ì¸í’‹ì´ focus ë˜ì–´ìˆëŠ” ìƒí™©ì—ì„œëŠ” ê¸°ë³¸ì ìœ¼ë¡œ ì—”í„°ì‹œì—ëŠ” ê²€ìƒ‰ì„ ì§„í–‰í•˜ë„ë¡ êµ¬í˜„í–ˆìŠµë‹ˆë‹¤. selectedIndex ê°€ 0 ì´ìƒì¼ë•ŒëŠ” í‚¤ë³´ë“œë¡œ ì„ íƒí•œ ê²€ìƒ‰ì–´ë¥¼ ì—”í„°ì‹œì— ê²€ìƒ‰í•˜ë„ë¡ êµ¬í˜„í•˜ì—¬ ì´ë²¤íŠ¸ ì¶©ëŒì„ ë°©ì§€í•˜ì˜€ìŠµë‹ˆë‹¤.
- ê¸°ì¡´ì—ëŠ” props drilling ì„ ë°©ì§€í•˜ê³ ì document.getElementsByClassName()ë¥¼ í†µí•˜ì—¬ className ì— ì„ íƒëœ ì•„ì´í…œì¼ì‹œì— 'selected'ë¥¼ í¬í•¨í•˜ë„ë¡ êµ¬í˜„í•˜ì—¬ ì‹¤í–‰í•˜ë„ë¡ í–ˆì§€ë§Œ ì§ì ‘ì ì¸ DOM ì¡°ì‘ì„ ì§€ì–‘í•˜ê¸° ìœ„í•´ ë¡œì§ì„ ë³€ê²½í•˜ì˜€ìŠµë‹ˆë‹¤.


```tsx
// useSelectKeydown.tsx
const useSelectKeydown = ({ listLength, callback, ref }: IUseSelect) => {
  const [selectedIndex, setSelectedIndex] = useState(-1);

  const handleSubmitSelected = () => {
    if (selectedIndex >= 0 && selectedIndex < listLength) {
      const selectedElement = ref.current?.querySelector(`[data-index="${selectedIndex}"]`);
      if (selectedElement) {
        const value = selectedElement.getAttribute('data-value');
        if (value) {
          callback(value);
        }
      }
    }
  };

  const handleKeydown = (e: KeyboardEvent<HTMLElement>) => {
    if (e.nativeEvent.isComposing) return;
    if (e.key === 'ArrowDown') {
      e.preventDefault();
      setSelectedIndex((prev) => (prev + 1) % listLength);
    } else if (e.key === 'ArrowUp') {
      e.preventDefault();
      setSelectedIndex((prev) => (prev - 1 + listLength) % listLength);
    } else if (e.key === 'Enter' && selectedIndex >= 0) {
      e.preventDefault();
      handleSubmitSelected();
    } else if (e.key === 'Escape') {
      e.preventDefault();
      setSelectedIndex(-1);
    }
  };

  useEffect(() => {
    setSelectedIndex(-1);
  }, [listLength]);

  return { selectedListItemIndex: selectedIndex, handleKeydownSelect: handleKeydown };
};
```

â£ï¸ë§ˆì§€ë§‰ 4ì£¼ì°¨ ê³¼ì œê¹Œì§€ ì§„í–‰í•˜ë©´ì„œ ì •ë§ ë§ì€ ì‹¤ë ¥í–¥ìƒê³¼ ë¦¬ì•¡íŠ¸, ìë°”ìŠ¤í¬ë¦½íŠ¸ì˜ ë§¤ë ¥ì„ ë‹¤ì‹œ í•œë²ˆ ëŠë¼ê²Œ ë˜ì—ˆìŠµë‹ˆë‹¤. ê³ ìƒí•´ì£¼ì‹  ë©˜í† ë‹˜ ë„ˆë¬´ ìˆ˜ê³  ë§ìœ¼ì…¨ìŠµë‹ˆë‹¤!â£ï¸
